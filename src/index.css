@import "tailwindcss";

@theme {
  /* Fonts */
  --font-sans: Inter, system-ui, sans-serif;
  --font-serif: 'Playfair Display', Georgia, serif;
  
  /* Default colors (dark theme) - these become utility classes */
  --color-background: #0F0F12;
  --color-surface: #16161A;
  --color-surface-hover: #1C1C21;
  --color-surface-active: #232328;
  --color-border: rgba(255, 255, 255, 0.08);
  --color-border-hover: rgba(255, 255, 255, 0.15);
  --color-border-active: rgba(255, 255, 255, 0.20);
  --color-primary: #6366F1;
  --color-primary-hover: #818CF8;
  --color-primary-foreground: #FFFFFF;
  --color-text-primary: #EDEDEF;
  --color-text-secondary: #8B8B8E;
  --color-text-tertiary: #4B4B4E;
  --color-success: #22C55E;
  --color-warning: #F59E0B;
  --color-error: #EF4444;
  --color-node-trigger: #EC4899;
  --color-node-action: #10B981;
  --color-node-function: #F59E0B;
  --color-node-webhook: #8B5CF6;
  --color-node-schedule: #06B6D4;
  
  /* Animations */
  --animate-fade-in: fadeIn 0.3s ease-out;
  --animate-slide-up: slideUp 0.4s ease-out;

  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
  @keyframes slideUp {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
}

/* ==================== DARK THEME (Default) ==================== */
:root,
.dark {
  color-scheme: dark;
  
  /* Override theme variables for dark mode */
  --color-background: #0F0F12;
  --color-surface: #16161A;
  --color-surface-hover: #1C1C21;
  --color-surface-active: #232328;
  --color-border: rgba(255, 255, 255, 0.08);
  --color-border-hover: rgba(255, 255, 255, 0.15);
  --color-border-active: rgba(255, 255, 255, 0.20);
  --color-primary: #6366F1;
  --color-primary-hover: #818CF8;
  --color-primary-foreground: #FFFFFF;
  --color-text-primary: #EDEDEF;
  --color-text-secondary: #8B8B8E;
  --color-text-tertiary: #4B4B4E;
  --color-success: #22C55E;
  --color-warning: #F59E0B;
  --color-error: #EF4444;
  --color-node-trigger: #EC4899;
  --color-node-action: #10B981;
  --color-node-function: #F59E0B;
  --color-node-webhook: #8B5CF6;
  --color-node-schedule: #06B6D4;

  /* Linear style: No heavy shadows */
  --shadow-subtle: none;
  --shadow-card: none;
  --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.15);
  
  /* Dark mode specific */
  --overlay-color: rgba(0, 0, 0, 0.5);
  --card-border: rgba(255, 255, 255, 0.08);
  --card-border-hover: rgba(255, 255, 255, 0.15);
}

/* ==================== LIGHT THEME ==================== */
.light {
  color-scheme: light;
  
  /* Light Theme - Clean white/gray backgrounds */
  --color-background: #FAFAFA;
  
  /* Surface colors - slightly darker than background */
  --color-surface: #FFFFFF;
  --color-surface-hover: #F5F5F5;
  --color-surface-active: #EBEBEB;
  
  /* Border-based depth (subtle gray borders) */
  --color-border: rgba(0, 0, 0, 0.08);
  --color-border-hover: rgba(0, 0, 0, 0.15);
  --color-border-active: rgba(0, 0, 0, 0.20);
  
  /* Accent colors - slightly deeper for light mode contrast */
  --color-primary: #5B5FC7;
  --color-primary-hover: #6366F1;
  --color-primary-foreground: #FFFFFF;
  
  /* Text hierarchy - dark text on light background */
  --color-text-primary: #1A1A1D;
  --color-text-secondary: #6B6B6F;
  --color-text-tertiary: #9B9B9F;
  
  /* Status colors (slightly muted for light mode) */
  --color-success: #16A34A;
  --color-warning: #D97706;
  --color-error: #DC2626;
  
  /* Node accent colors (same but may need slight adjustment) */
  --color-node-trigger: #DB2777;
  --color-node-action: #059669;
  --color-node-function: #D97706;
  --color-node-webhook: #7C3AED;
  --color-node-schedule: #0891B2;

  /* Light mode shadows - subtle and soft */
  --shadow-subtle: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.1);
  
  /* Light mode specific utilities */
  --overlay-color: rgba(0, 0, 0, 0.3);
  --card-border: rgba(0, 0, 0, 0.08);
  --card-border-hover: rgba(0, 0, 0, 0.15);
}

@layer base {
  body {
    background-color: var(--color-background);
    color: var(--color-text-primary);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    transition: background-color 0.2s ease, color 0.2s ease;
  }
  
  ::selection {
    background-color: color-mix(in srgb, var(--color-primary) 30%, transparent);
    color: var(--color-primary-foreground);
  }

  /* Custom Scrollbar - Theme aware */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  .dark ::-webkit-scrollbar-thumb,
  :root:not(.light) ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 9999px;
  }

  .dark ::-webkit-scrollbar-thumb:hover,
  :root:not(.light) ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
  }

  .light ::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.15);
    border-radius: 9999px;
  }

  .light ::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.25);
  }
}

@layer utilities {
  /* Font utilities */
  .font-serif {
    font-family: var(--font-serif);
  }
  
  /* Theme-aware linear card styles */
  .linear-card {
    background-color: var(--color-surface);
    border: 1px solid var(--card-border);
    border-radius: 0.75rem;
  }
  
  .linear-card-hover {
    background-color: var(--color-surface);
    border: 1px solid var(--card-border);
    border-radius: 0.75rem;
    transition: border-color 0.2s ease;
  }
  
  .linear-card-hover:hover {
    border-color: var(--card-border-hover);
  }
  
  .linear-card-selected {
    background-color: var(--color-surface);
    border: 1px solid var(--color-border-active);
    border-radius: 0.75rem;
  }

  /* Neon glow for accent elements - dark mode only */
  .dark .neon-glow-pink,
  :root:not(.light) .neon-glow-pink {
    box-shadow: 0 0 12px rgba(236, 72, 153, 0.5);
  }
  .dark .neon-glow-green,
  :root:not(.light) .neon-glow-green {
    box-shadow: 0 0 12px rgba(16, 185, 129, 0.5);
  }
  .dark .neon-glow-amber,
  :root:not(.light) .neon-glow-amber {
    box-shadow: 0 0 12px rgba(245, 158, 11, 0.5);
  }
  .dark .neon-glow-violet,
  :root:not(.light) .neon-glow-violet {
    box-shadow: 0 0 12px rgba(139, 92, 246, 0.5);
  }
  .dark .neon-glow-cyan,
  :root:not(.light) .neon-glow-cyan {
    box-shadow: 0 0 12px rgba(6, 182, 212, 0.5);
  }
  
  /* Light mode: subtle shadows instead of neon glow */
  .light .neon-glow-pink,
  .light .neon-glow-green,
  .light .neon-glow-amber,
  .light .neon-glow-violet,
  .light .neon-glow-cyan {
    box-shadow: var(--shadow-card);
  }

  /* Theme-aware text gradient */
  .dark .text-gradient,
  :root:not(.light) .text-gradient {
    background: linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0.6));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .light .text-gradient {
    background: linear-gradient(to right, #1A1A1D, rgba(26, 26, 29, 0.6));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .animate-shimmer {
    animation: shimmer 2s linear infinite;
  }
}
